{"version":3,"sources":["webpack:///./src/views/hero/HeroEdit.vue?1b57","webpack:///src/views/hero/HeroEdit.vue","webpack:///./src/views/hero/HeroEdit.vue?463f","webpack:///./src/views/hero/HeroEdit.vue","webpack:///./src/views/hero/HeroEdit.vue?0d61"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","id","nativeOn","$event","preventDefault","save","attrs","$http","defaults","baseURL","getAuthHeadersMixin","res","$set","model","url","avatar","banner","value","callback","$$v","expression","_l","item","key","_id","name","staticStyle","scores","on","skills","push","index","icon","splice","partners","hero","staticRenderFns","components","data","items","categories","heroes","difficulty","attack","survive","props","methods","afterUpload","created","fetchItems","fetchHeroes","fetchCategories","fetch","component"],"mappings":"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","file":"js/chunk-cf8f1a66.c713f72d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hero-edit\"},[_c('h1',[_vm._v(_vm._s(_vm.id ? \"编辑\" : \"新建\")+\"英雄\")]),_c('el-form',{nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save($event)}}},[_c('el-tabs',{attrs:{\"value\":\"basic\",\"type\":\"card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基础信息\",\"name\":\"basic\"}},[_c('el-form-item',{attrs:{\"label\":\"头像\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.$http.defaults.baseURL + '/uploads',\"headers\":_vm.getAuthHeadersMixin(),\"show-file-list\":false,\"on-success\":function (res) { return _vm.$set(_vm.model, 'avatar', res.url); }}},[(_vm.model.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"背景图\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.$http.defaults.baseURL + '/uploads',\"headers\":_vm.getAuthHeadersMixin(),\"show-file-list\":false,\"on-success\":function (res) { return _vm.$set(_vm.model, 'banner', res.url); }}},[(_vm.model.banner)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.banner}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"称号\"}},[_c('el-input',{model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.categories),callback:function ($$v) {_vm.$set(_vm.model, \"categories\", $$v)},expression:\"model.categories\"}},_vm._l((_vm.categories),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"难度\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7em\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.difficulty),callback:function ($$v) {_vm.$set(_vm.model.scores, \"difficulty\", $$v)},expression:\"model.scores.difficulty\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7em\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.skills),callback:function ($$v) {_vm.$set(_vm.model.scores, \"skills\", $$v)},expression:\"model.scores.skills\"}})],1),_c('el-form-item',{attrs:{\"label\":\"攻击\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7em\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.attack),callback:function ($$v) {_vm.$set(_vm.model.scores, \"attack\", $$v)},expression:\"model.scores.attack\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生存\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7em\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.survive),callback:function ($$v) {_vm.$set(_vm.model.scores, \"survive\", $$v)},expression:\"model.scores.survive\"}})],1),_c('el-form-item',{attrs:{\"label\":\"顺风出装\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.items1),callback:function ($$v) {_vm.$set(_vm.model, \"items1\", $$v)},expression:\"model.items1\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"逆风出装\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.items2),callback:function ($$v) {_vm.$set(_vm.model, \"items2\", $$v)},expression:\"model.items2\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"使用技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.usageTips),callback:function ($$v) {_vm.$set(_vm.model, \"usageTips\", $$v)},expression:\"model.usageTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"对抗技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.battleTips),callback:function ($$v) {_vm.$set(_vm.model, \"battleTips\", $$v)},expression:\"model.battleTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"团战思路\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.teamTips),callback:function ($$v) {_vm.$set(_vm.model, \"teamTips\", $$v)},expression:\"model.teamTips\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"技能\",\"name\":\"skills\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.model.skills.push({})}}},[_vm._v(\"+添加技能\")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.skills),function(item,index){return _c('el-col',{key:index,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.$http.defaults.baseURL + '/uploads',\"headers\":_vm.getAuthHeadersMixin(),\"show-file-list\":false,\"on-success\":function (res) { return _vm.$set(item, 'icon', res.url); }}},[(item.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"冷却与消耗\"}},[_c('el-input',{model:{value:(item.cost),callback:function ($$v) {_vm.$set(item, \"cost\", $$v)},expression:\"item.cost\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小提示\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.tips),callback:function ($$v) {_vm.$set(item, \"tips\", $$v)},expression:\"item.tips\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.skills.splice(index, 1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1),_c('el-tab-pane',{attrs:{\"label\":\"最佳拍档\",\"name\":\"partners\"}},[_c('el-button',{staticStyle:{\"margin-bottom\":\"1rem\"},on:{\"click\":function($event){return _vm.model.partners.push({})}}},[_vm._v(\"+添加英雄\")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.partners),function(item,index){return _c('el-col',{key:index,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"英雄\"}},[_c('el-select',{attrs:{\"filterable\":\"\"},model:{value:(item.hero),callback:function ($$v) {_vm.$set(item, \"hero\", $$v)},expression:\"item.hero\"}},_vm._l((_vm.heroes),function(hero){return _c('el-option',{key:hero._id,attrs:{\"value\":hero._id,\"label\":hero.name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.partners.splice(index, 1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1)],1),_c('el-form-item',{staticClass:\"submit\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\" 保存 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hero-edit\">\r\n    <h1>{{ id ? \"编辑\" : \"新建\" }}英雄</h1>\r\n    <el-form @submit.native.prevent=\"save\">\r\n      <!-- value表示默认显示哪个tab-pane -->\r\n      <el-tabs value=\"basic\" type=\"card\">\r\n        <el-tab-pane label=\"基础信息\" name=\"basic\">\r\n          <el-form-item label=\"头像\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"$http.defaults.baseURL + '/uploads'\"\r\n              :headers=\"getAuthHeadersMixin()\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"(res) => $set(model, 'avatar', res.url)\"\r\n            >\r\n              <img v-if=\"model.avatar\" :src=\"model.avatar\" class=\"avatar\" />\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"背景图\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"$http.defaults.baseURL + '/uploads'\"\r\n              :headers=\"getAuthHeadersMixin()\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"(res) => $set(model, 'banner', res.url)\"\r\n            >\r\n              <img v-if=\"model.banner\" :src=\"model.banner\" class=\"avatar\" />\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"名称\">\r\n            <el-input v-model=\"model.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"称号\">\r\n            <el-input v-model=\"model.title\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"类型\">\r\n            <!-- 加multiple就可以多选 -->\r\n            <el-select v-model=\"model.categories\" multiple>\r\n              <el-option\r\n                v-for=\"item of categories\"\r\n                :key=\"item._id\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"难度\">\r\n            <el-rate\r\n              style=\"margin-top: 0.7em\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.difficulty\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"技能\">\r\n            <el-rate\r\n              style=\"margin-top: 0.7em\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.skills\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"攻击\">\r\n            <el-rate\r\n              style=\"margin-top: 0.7em\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.attack\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"生存\">\r\n            <el-rate\r\n              style=\"margin-top: 0.7em\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.survive\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"顺风出装\">\r\n            <!-- 加multiple就可以多选 -->\r\n            <el-select v-model=\"model.items1\" multiple>\r\n              <el-option\r\n                v-for=\"item of items\"\r\n                :key=\"item._id\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"逆风出装\">\r\n            <!-- 加multiple就可以多选 -->\r\n            <el-select v-model=\"model.items2\" multiple>\r\n              <el-option\r\n                v-for=\"item of items\"\r\n                :key=\"item._id\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用技巧\">\r\n            <el-input type=\"textarea\" v-model=\"model.usageTips\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"对抗技巧\">\r\n            <el-input type=\"textarea\" v-model=\"model.battleTips\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"团战思路\">\r\n            <el-input type=\"textarea\" v-model=\"model.teamTips\"></el-input>\r\n          </el-form-item>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"技能\" name=\"skills\">\r\n          <el-button @click=\"model.skills.push({})\">+添加技能</el-button>\r\n          <el-row type=\"flex\" style=\"flex-wrap: wrap\">\r\n            <el-col :md=\"12\" v-for=\"(item, index) in model.skills\" :key=\"index\">\r\n              <el-form-item label=\"名称\">\r\n                <el-input v-model=\"item.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"图标\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  :action=\"$http.defaults.baseURL + '/uploads'\"\r\n                  :headers=\"getAuthHeadersMixin()\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"(res) => $set(item, 'icon', res.url)\"\r\n                >\r\n                  <img v-if=\"item.icon\" :src=\"item.icon\" class=\"avatar\" />\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                </el-upload>\r\n              </el-form-item>\r\n              <el-form-item label=\"冷却与消耗\">\r\n                <el-input v-model=\"item.cost\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"描述\">\r\n                <el-input v-model=\"item.description\" type=\"textarea\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"小提示\">\r\n                <el-input v-model=\"item.tips\" type=\"textarea\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  size=\"small\"\r\n                  @click=\"model.skills.splice(index, 1)\"\r\n                  >删除</el-button\r\n                >\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"最佳拍档\" name=\"partners\">\r\n          <el-button\r\n            @click=\"model.partners.push({})\"\r\n            style=\"margin-bottom: 1rem\"\r\n            >+添加英雄</el-button\r\n          >\r\n          <el-row type=\"flex\" style=\"flex-wrap: wrap\">\r\n            <el-col\r\n              :md=\"12\"\r\n              v-for=\"(item, index) in model.partners\"\r\n              :key=\"index\"\r\n            >\r\n              <el-form-item label=\"英雄\">\r\n                <el-select filterable v-model=\"item.hero\">\r\n                  <el-option\r\n                    v-for=\"hero in heroes\"\r\n                    :key=\"hero._id\"\r\n                    :value=\"hero._id\"\r\n                    :label=\"hero.name\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"描述\">\r\n                <el-input v-model=\"item.description\" type=\"textarea\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  size=\"small\"\r\n                  @click=\"model.partners.splice(index, 1)\"\r\n                  >删除</el-button\r\n                >\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n      <el-form-item class=\"submit\">\r\n        <el-button type=\"primary\" native-type=\"submit\"> 保存 </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HeroEdit\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      // 装备列表\r\n      items: [],\r\n      // 分类列表\r\n      categories: [],\r\n      // 英雄列表\r\n      heroes: [],\r\n      model: {\r\n        name: \"\",\r\n        avatar: \"\",\r\n        // 评分\r\n        scores: {\r\n          difficulty: 0,\r\n          skills: 0,\r\n          attack: 0,\r\n          survive: 0,\r\n        },\r\n        skills: [],\r\n        partners: [],\r\n      },\r\n    };\r\n  },\r\n  props: {\r\n    id: {},\r\n  },\r\n  //方法集合\r\n  methods: {\r\n    afterUpload(res) {\r\n      // this.$set(this.model, 'avatar', res.url)\r\n      this.model.avatar = res.url;\r\n    },\r\n    async save() {\r\n      let res;\r\n      if (this.id) {\r\n        // 根据分类是否存在有两种情况\r\n        // 修改分类\r\n        res = await this.$http.put(`rest/heroes/${this.id}`, this.model);\r\n      } else {\r\n        // 新建分类\r\n        res = await this.$http.post(\"rest/heroes\", this.model);\r\n      }\r\n\r\n      console.log(res);\r\n      this.$router.push(\"/heroes/list\");\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"保存成功\",\r\n      });\r\n    },\r\n    // 获取当前英雄数据（或者不存在）\r\n    async fetch() {\r\n      const res = await this.$http.get(`rest/heroes/${this.id}`);\r\n      // this.model = res.data; // 这样写会覆盖原有的model，导致model里的scores不存在了\r\n      // 用assign可以优先将this.model原来的属性复制过来\r\n      // this.model = Object.assign({}, this.model, res.data)\r\n\r\n      // 或者直接用...扩展操作符\r\n      this.model = { ...this.model, ...res.data };\r\n    },\r\n    // 获取英雄类型列表\r\n    async fetchCategories() {\r\n      const res = await this.$http.get(`rest/categories`);\r\n      this.categories = res.data;\r\n    },\r\n    // 获取装备类型列表\r\n    async fetchItems() {\r\n      const res = await this.$http.get(`rest/items`);\r\n      this.items = res.data;\r\n    },\r\n    // 获取英雄列表\r\n    async fetchHeroes() {\r\n      const res = await this.$http.get(`rest/heroes`);\r\n      this.heroes = res.data;\r\n    },\r\n    // async fetchParents() {\r\n    //   const res = await this.$http.get(`rest/items`)\r\n    //   this.parents = res.data\r\n    // }\r\n  },\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created() {\r\n    // this.fetchParents()\r\n    this.fetchItems();\r\n    this.fetchHeroes();\r\n    this.fetchCategories();\r\n    this.id && this.fetch();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/* 使用样式穿透，less语言使用/deep/ */\r\n.avatar-uploader >>> .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader >>> .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 5rem;\r\n  height: 5rem;\r\n  line-height: 5rem;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  height: 5rem;\r\n  width: auto;\r\n  display: block;\r\n}\r\n.submit {\r\n  border-top: 8px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeroEdit.vue?vue&type=template&id=80bd3598&scoped=true&\"\nimport script from \"./HeroEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./HeroEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeroEdit.vue?vue&type=style&index=0&id=80bd3598&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"80bd3598\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=style&index=0&id=80bd3598&scoped=true&lang=css&\""],"sourceRoot":""}